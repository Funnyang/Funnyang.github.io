<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>前端 on 小 ceng 的时间日志</title>
    <link>https://tlog.cc/categories/%E5%89%8D%E7%AB%AF/</link>
    <description>Recent content in 前端 on 小 ceng 的时间日志</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-CN</language>
    <lastBuildDate>Sun, 28 Jul 2019 18:52:17 +0800</lastBuildDate><atom:link href="https://tlog.cc/categories/%E5%89%8D%E7%AB%AF/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>尝试在 vue 指令中阻止事件触发</title>
      <link>https://tlog.cc/posts/vuejs/%E5%B0%9D%E8%AF%95%E5%9C%A8-vue-%E6%8C%87%E4%BB%A4%E4%B8%AD%E9%98%BB%E6%AD%A2%E4%BA%8B%E4%BB%B6%E8%A7%A6%E5%8F%91/</link>
      <pubDate>Sun, 28 Jul 2019 18:52:17 +0800</pubDate>
      
      <guid>https://tlog.cc/posts/vuejs/%E5%B0%9D%E8%AF%95%E5%9C%A8-vue-%E6%8C%87%E4%BB%A4%E4%B8%AD%E9%98%BB%E6%AD%A2%E4%BA%8B%E4%BB%B6%E8%A7%A6%E5%8F%91/</guid>
      <description>通常，大家都是在指令中绑定事件，而我遇到一种场景是希望阻止事件触发，准确地讲，是阻止元素或组件绑定的事件 handler 的执行。
这个场景是基于权限控制诞生的，网上能查到资料，不少的实践中，都使用自定义指令控制按钮级别的权限控制。而这些实践中，多数都是控制按钮的显隐，这点不难实现。但实际中，可能也会有点击按钮，然后通过提示告知用户无权限操作的需求。因此我希望权限指令 v-permission 也能适应这种场景。
实现的思路其实也很简单，即先移除原有事件监听，再添加新的监听。问题就在于第一步比较难实现。
经过一番研究，最后我将这个问题分为两种情况：
 vue 自定义事件 原生事件  vue 自定义事件是可以禁用的，但是原生事件比较麻烦，想要移除原生事件的监听，需要提供原有绑定的函数，而这个信息无法在指令的 hook 中获取到（本来寄希望于 vnode, 然而多次尝试后无果）。所以最终是没有完全实现我想要的功能，只实现了一个半血版。demo 如下:</description>
    </item>
    
  </channel>
</rss>
